vars: {
  d2-config: {
    layout-engine: elk
    theme-id: 1
  }
}

classes: {
  read: {
    style: {
      stroke: green
    }
  }
}

Legend: {
  MasterData: Master Data
  ReadData: Read Data {class: read}

  Field <- MasterData: relationship
  MasterData -> ReadData: streaming communication {class: read}
}


НаймМатчинг: Найм и матчинг воркеров {
  Кандидат -> Заявка: один
  Воркер <- Кандидат: ноль или один
  Кандидат -> Результат: много
  Тест -> Результат: один
  НаборТестов -> Тест: много

  НаборТестов: Набор тестов
}

ПродажаУслуг: Продажа услуг клиентам {
  Клиент -> Заказ: много
  Заказ -> Статус: один
  Заказ -> Стоимость: один
  Заказ -> Воркер: один

  Клиент -> Способ оплаты: один
  Клиент -> Счет на оплату клиента: много
  Клиент -> Скидка: один

  Воркер <- _.НаймМатчинг.Воркер: {class: read}
  Воркер: {class: read}
}

Сборка расходных материалов: {
  ЗаказНаСборку -> Отметка о выполнении: один

  ЗаказНаСборку <- _.ПродажаУслуг.Заказ: {class: read}
  ЗаказНаСборку: Заказ на сборку {class: read}
}

УправлениеЗадачами: Управление задачами воркеров {
  Задача -> ОтметкаНачал: один
  ОтметкаНачал -> Фотография: один
  Задача -> ОтметкаВыполнил: один
  ОтметкаВыполнил -> Акт: один

  Воркер -> Счет в Золотой шляпе: один
  Воркер -> Счет на выплату воркеру: много
  Воркер -> Баланс: один

  Задача <- _.ПродажаУслуг.Заказ: {class: read}
  Задача: {class: read}

  ОтметкаНачал: Отметка о начале работы
  ОтметкаВыполнил: Отметка о выполнении работы
}

КонтрольКачества: Контроль качества {
  Заказ -> Отчет: один

  Заказ <- _.ПродажаУслуг.Заказ: {class: read}
  Заказ: {class: read}
}

Мотивация менеджеров: {
  Заказ -> Ставка менеджера: много

  Заказ <- _.ПродажаУслуг.Заказ: {class: read}
  Заказ: {class: read}
}
